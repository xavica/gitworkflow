(function(){var g=void 0,h=true,j=null,k=false,l,n=this;function aa(a){var b=o;function c(){}c.prototype=b.prototype;a.aa=b.prototype;a.prototype=new c;a.prototype.constructor=a};function ba(){for(var a="",b=0;b<16;b++)a+=Math.random();return a}function q(a,b){var c="",d=ca(encodeURIComponent(a));d.splice(b||5,d.length);r(d,function(a){if(a==0)a="A";else{a>>>=0;for(var b="",d;a>0;)d=a%64,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_-".charAt(d)+b,a>>>=6;a=b}c+=a});return c}
function ca(a){a+=String.fromCharCode(128);for(var b=[1518500249,1859775393,2400959708,3395469782],c=1732584193,d=4023233417,e=2562383102,f=271733878,m=3285377520,p=[],i,v,t,D,E,G=Math.ceil((a.length/4+2)/16),F=[G],z=0,u;z<G;z++){F[z]=[];for(i=0;i<16;i++)F[z][i]=a.charCodeAt(z*64+i*4)<<24|a.charCodeAt(z*64+i*4+1)<<16|a.charCodeAt(z*64+i*4+2)<<8|a.charCodeAt(z*64+i*4+3)}z=(a.length-1)*8;a=G-1;F[a][14]=Math.floor(z/Math.pow(2,32));F[a][15]=z&4294967295;for(z=0;z<G;z++){for(u=0;u<16;u++)p[u]=F[z][u];
for(u=16;u<80;u++)p[u]=(p[u-3]^p[u-8]^p[u-14]^p[u-16])<<1|(p[u-3]^p[u-8]^p[u-14]^p[u-16])>>>31;a=c;i=d;v=e;t=f;D=m;for(u=0;u<80;u++)E=Math.floor(u/20),E=(a<<5|a>>>27)+(E==0?i&v^~i&t:E==1?i^v^t:E==2?i&v^i&t^v&t:i^v^t)+D+b[E]+p[u]&4294967295,D=t,t=v,v=i<<30|i>>>2,i=a,a=E;c=c+a&4294967295;d=d+i&4294967295;e=e+v&4294967295;f=f+t&4294967295;m=m+D&4294967295}return[c,d,e,f,m]}function s(a,b){return function(){a.apply(b,arguments)}}function da(a){return typeof a!=="undefined"}
function w(a){return a.replace(/^www\./,"")}function x(a,b,c,d){a.addEventListener?a.addEventListener(b,c,!!d):a.attachEvent&&a.attachEvent("on"+b,c)}function y(a){return typeof a==="number"}function A(a){return typeof a==="string"}function B(a){a=new Date(+a);return Date.UTC(a.getFullYear(),a.getMonth(),a.getDate())}function C(){return(new Date).getTime()}
function r(a,b){if((!!a&&a.constructor===Object)===h)for(var c in a){if(a.hasOwnProperty(c)&&b(a[c],c)===k)break}else{c=0;for(var d=a.length;c<d;c++)if(b(a[c],c)===k)break}}function ea(a,b){for(var c=0,d=a.length;c<d;c++)if(b(a[c]))return c;return-1}
function fa(a,b){if(a===b)return 0;if(a.length===0)return b.length;if(b.length===0)return a.length;for(var c=[],d=0,e=b.length;d<=e;d++)c[d]=[d];for(var f=0,m=a.length;f<=m;f++)c[0][f]=f;for(var p,i,v,d=1;d<=e;d++)for(f=1;f<=m;f++)p=d-1,i=f-1,v=c[p][i],b.charAt(p)==a.charAt(i)?c[d][f]=v:(i=c[d][i]+1,p=c[p][f]+1,v+=2,c[d][f]=Math.min(i,p,v));return c[b.length][a.length]}var ga;function ha(a){var b={};a&&(a.charAt(0)=="?"&&(a=a.substring(1)),a=a.replace("+"," "),r(a.split(/[&;]/g),function(a){a=a.split("=");b[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}));return b}function ia(a,b,c){var d="",e=n.location.href.split("?");e.length&&(e=ha(e[1]),b=c||b,e[b]&&(d="&"+a+"="+e[b]));return d}function ja(a,b){return!b?h:a==="http:"&&b==="80"||a==="https:"&&b==="443"}
function H(a){var b={hostname:"",pathname:"",search:"",protocol:"",port:"",hash:""};if(!a)return b;var c=document.createElement("a"),d=n.location;if(!/^https?:/.test(a)&&a.indexOf("javascript:")!==0)if(a.indexOf("//")===0)a=d.protocol+a;else if(a.indexOf("/")===0)var e=ja(d.protocol,d.port)?"":d.port,a=d.protocol+"//"+d.hostname+(e?":"+e:"")+a;else{var e=document.baseURI||d.href,f=e.indexOf("?");f===-1&&(f=e.indexOf("#"));if(f===-1)f=e.length;f=e.lastIndexOf("/",f);a=f===-1?"/"+a:e.substr(0,f)+"/"+
a}c.href=a;b.hostname=c.hostname;b.pathname=c.pathname;b.search=c.search;b.protocol=c.protocol;b.port=c.port;b.hash=c.hash;if(b.pathname.charAt(0)!=="/")b.pathname="/"+b.pathname;if(b.hostname==="")b.hostname=d.hostname;if(b.protocol==="")b.protocol=d.protocol;if(b.protocol==="javascript:")b.pathname="",b.hostname="",b.port="",b.hash="";if(ja(b.protocol,b.port)||b.port==="0")b.port="";return b}
function I(a){var b=a.protocol;a.hostname&&(b+="//"+a.hostname,a.port&&(b+=":"+a.port));return b+a.pathname+a.search+a.hash};function J(a,b,c){a[b]=a[b]||c}function ka(a){r(document.getElementsByTagName("script"),function(b){if(b.src.match(/chartbeat.js/))return b=ha(b.src.split("?")[1]),J(a,"uid",b.uid),J(a,"domain",b.domain),k})}function K(a,b,c){return a[c]?"&g"+b+"="+encodeURIComponent(a[c]):""}function la(a){var b=[];r(a,function(a,d){d.charAt(0)=="_"&&b.push(d+"="+a)});return b.length?"&"+b.join("&"):""};var L={};L.f=function(a){var b=n._sf_async_config;if(!a&&b&&b.noCookies)return j;if(L.f.P!==g)return L.f.P;var a=C()+"",c,d;try{if((d=n.localStorage).setItem(a,a),c=d.getItem(a)===a,d.removeItem(a),c)return L.f.P=d}catch(e){}return L.f.P=j};L.b=function(a){var b=L.f();if(!b)return"";var c=b.getItem(a+"_expires");return c&&(c=+c,!isNaN(c)&&C()>c)?(L.remove(a),""):b.getItem(a)||""};
L.create=function(a,b,c){var d=L.f();if(d){var e=new Date;e.setTime(C()+c*1E3);try{d.setItem(a,b),d.setItem(a+"_expires",e.getTime())}catch(f){}}};L.remove=function(a){var b=L.f();b&&(b.removeItem(a),b.removeItem(a+"_expires"))};function ma(){var a=document.createElement("script");a.async=h;a.src=(n.location.protocol||"http:")+"//static.chartbeat.com/js/inpage.js";var b=document.getElementsByTagName("head");b&&b.length&&b[0].appendChild(a)}function na(a){if(/[\/|\.]chartbeat\.com$/.test(a.origin)){var b=L.f(h),c=String(a.data);b&&c.indexOf("_cb_ip")==0&&(b.setItem("_cb_ip","1"),a.source.postMessage(1,a.origin),ma())}};function oa(a){var b,c;b="pageYOffset";c="scrollTop";if(a){var d,e;d=d||"*";e=e||document;if("querySelectorAll"in e)a=e.querySelectorAll(d+"[data-cb-scroll-element]");else{a=[];d=e.getElementsByTagName(d);for(e=d.length;e--;)d[e].getAttribute("data-cb-scroll-element")&&a.push(d[e])}if(a&&a.length)return a[0][c]}if(y(n[b]))return n[b];else if(document.body&&document.body[c])return document.body[c];else if(document.documentElement[c])return document.documentElement[c];return 0}
function pa(){var a=document,a=a[a.compatMode==="CSS1Compat"?"documentElement":"body"].clientHeight||0;window.innerHeight&&(a=Math.min(window.innerHeight,a));return a}function M(a){a="scroll"+a;return Math.max(document.body[a],document.documentElement[a])||0}function qa(a,b,c){var d=a.ownerDocument.documentElement,e=0,f=da(c)?c+1:-1;A(b)?(b=b.toLowerCase(),c=function(a){return(a=a.nodeName)&&a.toLowerCase()===b}):c=b;for(;a&&a!==d&&e!==f;){if(c(a))return a;a=a.parentNode;e++}return j}
function ra(a){return a.nodeName&&a.nodeName.toLowerCase()==="a"&&(!a.namespaceURI||a.namespaceURI==="http://www.w3.org/1999/xhtml")}function sa(a){a=a||window.event;return!a?j:qa(a.target||a.srcElement,ra,10)};var N={},ta=1;function O(a,b,c){ta++;N[a]=N[a]||{};N[a][ta]=[b,c];return ta}function P(a){if(A(a))N[a]=g,delete N[a];else if(y(a)){var b=h;r(N,function(c){r(c,function(d,e){if(parseInt(e,10)===a)return c[e]=g,delete c[e],b=k});return b})}}function Q(a,b){if(N[a]){var c=arguments.length>1?Array.prototype.slice.call(arguments,1):[];r(N[a],function(a){var b;a&&a.length===2&&(b=a[0],a=a[1],b.apply(a,c))})}};var R={};
R.e=function(){R.v?R.I("pageload"):(R.Ca=[{target:n,event:"scroll"},{target:document.body,event:"keydown"},{target:document.body,event:"mousemove"},{target:n,event:"resize"},{target:document.body,event:"mousedown"}],R.M=j,R.ba=k,R.u=j,R.pa={},r(R.Ca,function(a){var b=a.event;x(a.target,b,function(a){R.I.call(R,b,a)})}),O("f",function(){R.I("focus")}),R.I("pageload"),x(document.body,"click",function(a){(a=sa(a))&&Q("c",a)},h),x(document.body,"contextmenu",function(a){(a=sa(a))&&Q("r",a)}),R.v=h)};
R.Ha=function(){var a,b=R.pa.keydown;if(b===g)return k;b=C()-b;return b<=(a||15E3)&&b>=0};R.ha=100;R.I=function(a,b){if(!b)b=window.event;if(b&&a==="keydown"){var c=b.keyCode?b.keyCode:b.which;if(c===32||c>36&&c<41)a="scroll"}R.lb(a);R.M===j?R.ya():R.ba=h};R.lb=function(a){R.pa[a]=C()};R.ya=function(){R.M=n.setTimeout(R.La,R.ha);Q("a");R.u!==j&&n.clearTimeout(R.u);R.u=n.setTimeout(function(){Q("i");n.clearTimeout(R.u);R.u=j},5E3+R.ha)};R.La=function(){n.clearTimeout(R.M);R.M=j;if(R.ba)R.ba=k,R.ya()};var S={};S.Ka=function(){try{S.create("_cb_test","1",1);var a=S.b("_cb_test");S.remove("_cb_test");return a==="1"}catch(b){return k}};S.b=function(a){a+="=";var b="";r(document.cookie.split(";"),function(c){for(;c.charAt(0)===" ";)c=c.substring(1,c.length);if(c.indexOf(a)===0)return b=c.substring(a.length,c.length),k});return b};
S.create=function(a,b,c){var d=n._sf_async_config;if(d&&d.noCookies)return"";d=new Date;d.setTime(C()+c*1E3);a=a+"="+b+("; expires="+d.toGMTString())+"; path=/";return document.cookie=a};S.remove=function(a){return S.b(a)?S.create(a,"",-86400):""};function ua(a){this.K=a||"";this.Ma=L.f()!==j||S.Ka();this.$=k;va(this)}l=ua.prototype;l.isSupported=function(){return this.Ma};
function va(a){if(!S.b("_cb_ls")){var b=L.f()!==j,c=S.b("_SUPERFLY_nosample");c&&r(["","_v_","_p_"],function(b){a.create(b+"_SUPERFLY_nosample",c,600,h)});var d=S.b("_chartbeat3");d&&(a.create("_v__chartbeat3",d,2592E3,h),S.remove("_chartbeat3"));b&&((b=S.b("_chartbeat2"))&&a.create("_chartbeat2",b,94608E3,h),(b=S.b("_chartbeat_uuniq"))&&a.create("_chartbeat_uuniq",b,94608E3,h),(b=S.b("_chartbeat5"))&&a.create("_chartbeat5",b,60,h));S.create("_cb_ls","1",2592E3)}}
l.create=function(a,b,c,d){a=d?a:this.K+a;(L.f()?L:S).create(a,b,c);L.f()&&S.create(a,b,c)};l.update=function(a,b,c,d,e,f,m){a=d?a:this.K+a;e=A(e)?e:"::";d=(d=this.b(a,h))?d.split(e):[];if(m&&d.length){var p=m(b),i=ea(d,function(a){return m(a)===p});i!==-1&&d.splice(i,1)}y(f)&&d.length>=f&&d.splice(0,d.length-f+1);d.push(b);this.create(a,d.join(e),c,h)};
l.b=function(a,b){var a=b?a:this.K+a,c=(L.f()?L:S).b(a);if(!c&&L.f()&&(c=S.b(a))&&S.b("_cb_ls")){this.$=h;var d;switch(a){case "_SUPERFLY_nosample":d=600;break;case "_chartbeat4":d=3600;break;case "_cb_cp":d=3600;break;case "_chartbeat3":d=2592E3;break;default:d=94608E3}L.create(a,c,d)}return c};l.remove=function(a,b){a=b?a:this.K+a;(L.f()?L:S).remove(a);L.f()&&S.remove(a)};var T=function(){var a,b;r(["","moz","o","ms","webkit"],function(c){a=(c+"Hidden").charAt(0).toLowerCase()+(c+"Hidden").slice(1);if(typeof n.document[a]==="boolean")return b=c,k});var c={};if(b!==g)c.oa=a,c.ea=(b+"VisibilityState").charAt(0).toLowerCase()+(b+"VisibilityState").slice(1),c.N=b+"visibilitychange";return c}();
T.e=function(){if(!T.v)T.F=T.ua(),T.N&&n.document.addEventListener&&n.document.addEventListener(T.N,T.fb,k),T.ka("focus","onfocusin",T.T),T.ka("blur","onfocusout",T.sa),T.F&&T.T(),T.v=h};T.qb=function(){return T.F};T.T=function(){T.F=h;Q("f")};T.sa=function(){T.F=k;Q("b")};T.ka=function(a,b,c){n.addEventListener?n.addEventListener(a,c,k):n.document.attachEvent&&n.document.attachEvent(b,c)};
T.ua=function(){var a=h;n.document.hasFocus&&(a=n.document.hasFocus());var b=k;T.oa&&(b=n.document[T.oa]);return a&&!b};T.fb=function(){T.ua()?T.T():T.sa()};function wa(a){var b=j;if(a&&(b=xa()))return b;var c=n.location,b=U(c.pathname),a=c.search||"",a=a.replace(/PHPSESSID=[^&]+/,""),d=/&utm_[^=]+=[^&]+/ig;(c=d.exec(c.search))&&(a=a.replace(d,""));d=/\?utm_[^=]+=[^&]+(.*)/i;(c=d.exec(a))&&(a=a.replace(d,c[1]!=""?"?"+c[1]:""));return b+a}function xa(){var a=j;r(document.getElementsByTagName("link"),function(b){if(b.rel=="canonical")return b=H(b.href),a=U(b.pathname)+b.search+b.hash,k});return a}
for(var ya={},za=0;za<81;za++)ya["0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-._~!$&'()*+,;=:@[]".charCodeAt(za)]=h;function Aa(a,b){if(a==="%")return"%25";var c=parseInt(b,16);return ya[c]?String.fromCharCode(c):"%"+b.toUpperCase()}function U(a){if(!A(a))return a;a=a.replace(/%([0-9A-Fa-f]{2})?/g,Aa);return a=a.replace(/[^0-9A-Za-z\-._~!$&'()*+,;=:@\/\[\]?#%]+/g,encodeURIComponent)};var V={Ea:{IDLE:0,ob:1,nb:2,Da:3},h:0};V.e=function(){if(!V.v)O("a",V.Qa,V),O("i",V.Ta,V),O("f",V.Sa,V),O("b",V.Ra,V),V.v=h};V.Pa=function(){return V.h};V.Qa=function(){V.h===1?V.j(3):V.h===0&&V.j(2)};V.Ta=function(){V.h===3?V.j(1):V.h===2&&V.j(0)};V.Sa=function(){(V.h===0||V.h===2)&&V.j(3)};V.Ra=function(){V.h===3?V.j(2):V.h===1&&V.j(0)};V.j=function(a){V.h=a;Q("s",a)};function Ba(a,b){this.ma=a||g;this.ta=b||g;this.n=this.ca=0}l=Ba.prototype;l.e=function(){this.n=this.ca=0;this.C=j;this.ib=O("s",this.na,this);this.na(V.Pa())};l.total=function(){this.ca+=this.n;this.n=0;return this.ca};l.na=function(a){n.clearInterval(this.C);this.C=j;if(a===V.Ea.Da)this.C=n.setInterval(s(this.Wa,this),1E3)};l.Wa=function(){if(this.ma===g||this.ma())this.n++,this.ta&&this.ta()};l.terminate=function(){n.clearInterval(this.C);this.C=j;P(this.ib)};function o(){this.a=n._sf_async_config||{};this.Na=s(this.cb,this);this.r=[];this.g=new ua(this.jb);this.p=k;this.i=new Ba;this.eb=s(this.J,this);x(n,"unload",this.eb);Ca(this)||this.e()}l=o.prototype;l.Y=h;function Ca(a){if(T.ea&&document[T.ea]==="prerender"){a.p=h;var b=s(function(){if(this.p&&document[T.ea]!=="prerender")this.p=k,this.e(),W(this),window.setTimeout(function(){document.removeEventListener(T.N,b,k)},100)},a);document.addEventListener(T.N,b,k);return h}return k}
l.e=function(){this.G=this.o=0;this.B=C();this.xa=q(Da(this));this.X=h;this.H=72E5;this.va=0;if(this.Y){var a=+this.a.sessionLength;if(!isNaN(a))this.H=a*6E4}this.i.e();V.e();R.e();T.e();this.w=0;this.Ga=O("a",this.$a,this)};function W(a){if(!a.g.b("_SUPERFLY_nosample")&&!a.p)a.Ya?a.L():(a.Ya=h,!n._sf_async_config&&!n._cbq?(a.U=s(a.L,a),x(n,"load",a.U)):a.L())}l.L=function(){var a=n._sf_startpt,b=n._sf_endpt;if(y(a))this.V=y(b)?b-a:C()-a;R.e();this.Q=setInterval(s(this.z,this),15E3);this.z()};
l.z=function(){var a=this.i.n,a=this.a.reading&&+this.a.reading||a>0;if(this.G<this.o&&!a)this.G++;else{var b;if(ga===g)b=n.navigator.userAgent,ga=b.indexOf("AppleWebKit")>0&&b.indexOf("FBIOS")>0;b=ga;b&&!a?this.G++:(a?this.o=0:Ea(this),this.G=0,this.r.push(0),this.r.length>18&&this.r.shift(),this.Y&&C()-this.B>=this.H?this.terminate():this.A())}};function X(a,b){if(!a.p){var c=a.Na,d;d=new Image(1,1);if(c)d.onerror=c;d.src=b}}
l.cb=function(){this.r.push(1);var a=0;r(this.r,function(b){a+=b});a<3?(this.X=h,Ea(this)):(this.terminate(),this.g.create("_SUPERFLY_nosample","1",600))};l.J=function(){};l.$a=function(){var a=Fa(this);this.w=Math.max(this.w,a)};function Fa(a){return oa(!!a.a.scrollElement)}function Ea(a){var b=a.o,b=b?Math.min(b*2,16):1;a.o=b}l.Ba=function(a,b){if(!this.p)this.J(),this.terminate(),this.da=n.location.protocol+"//"+this.a.domain+this.a.path,this.a.path=U(a),b&&(this.a.title=b),this.e(),W(this)};
function Ga(a){if(a.da)return h;a=(document.referrer||"").indexOf("://"+n.location.hostname+"/");return a!=-1&&a<9}function Y(a){a=a.da;if(!a&&(a=document.referrer||"")){var b=H(a);if(b.protocol==="http:"||b.protocol==="https:")b.pathname=U(b.pathname),a=I(b)}return encodeURIComponent(a)}function Ha(a){a=a.a.title.slice(0,100);return encodeURIComponent(a)}
function Da(a){var b=n.navigator,c=n.window.screen,d=[b.userAgent,b.platform,(new Date).getTimezoneOffset(),c.width+c.height+c.colorDepth];r(b.plugins,function(a){d.push(a.name+a.description+a.filename+a[0].type)});b=n.performance;d=d.concat([b&&b.now?b.now():"",Y(a),document.title,n.location.href,C(),M("Width"),M("Height"),ba()]);return d.join()}function Ia(a){var b="",c=a.g.b("_chartbeat4");c&&(r(c.split("::"),function(a){b+="&z="+encodeURIComponent(a)}),a.g.remove("_chartbeat4"));return b}
l.terminate=function(){this.i.terminate();P(this.Ga);if(this.U!==g){var a=this.U,b=n;b.removeEventListener?b.removeEventListener("load",a,k):b.detachEvent&&b.detachEvent("onload",a)}clearInterval(this.Q)};function Ja(a){for(var b=a.offsetLeft,c=a.offsetTop,d=k,e=a.offsetParent;a&&a!==g&&a!==document.body;){if(a===e)b+=a.offsetLeft,c+=a.offsetTop,e=a.offsetParent;var f=a,m=g;m=n.getComputedStyle?(f=n.getComputedStyle(f,j))&&(f.position||f.getPropertyValue("position")):f.currentStyle?f.currentStyle.position:f.style&&f.style.position;if((m||"")==="fixed"){d=h;break}a=a.parentElement}d&&(b+=0,c+=0);return{x:b,y:c}};function Ka(a,b){var c="1",d=b&&+b[2],e=b&&b[3];if(b&&d&&e)if(c=Math.abs((B(a)-B(d))/864E5)){c=Math.min(c,16)-1;for(d="";c--;)d+=0;c=(e+d+"1").slice(-16)}else c=e;return c};function La(a,b){for(var c=b||document.documentElement,d=[],e=j,f=a,m,p,i,v,t,D;f&&f!==c;){m=f.nodeName.toLowerCase();e=f;p=e.nodeName;if((f=f.parentNode)&&f!==document.documentElement){i=f.children;v=0;for(t=0,D=i.length;t<D;t++){if(e===i[t]){m+="["+(1+t-v)+"]";break}i[t].nodeName!==p&&v++}}d.unshift(m)}return d.join("/")};function Z(){o.call(this);for(var a=s(this.wa,this),b=n._cbq||[];b.length;)a(b.shift());n._cbq={push:a};"postMessage"in window&&x(n,"message",s(this.Ua,this))}aa(Z);l=Z.prototype;
l.e=function(){Z.aa.e.call(this);this.O=j;ka(this.a);var a=n.location;J(this.a,"pingServer","ping.chartbeat.net");J(this.a,"title",document.title);J(this.a,"domain",a.hostname);this.a.path=this.a.path?U(this.a.path):wa(!!this.a.useCanonical);this.t=w(a.hostname);this.a.domain=w(this.a.domain);a=(this.g.b("_chartbeat2",h)||"").split(".");a.length>4&&(a=[]);var b=C(),c=Ka(b,a),d=(this.g.b("_chartbeat2",h)||"").split("."),e=C(),f=e-+(d[1]||0);e-=+(d[2]||0);this.Za=d[0]&&f>18E5&&e<2592E6?0:1;a[0]||(a[0]=
this.a.utoken||q(Da(this),3),a[1]=b);a[2]=b;a[3]=c;this.q=a[0];this.W=a.join(".");this.g.create("_chartbeat2",this.W,94608E3,h);this.a.utoken=this.q;var m;b=+a[1];c=+a[2];if((a=a[3])&&b&&c)m=(Math.min((Math.abs((B(c)-B(b))/864E5)||0)+1,16,a.length)-1).toString(16),m+=("0000"+parseInt(a,2).toString(16)).slice(-4);this.la=m;this.Ia=O("c",this.ab,this);this.Ja=O("r",this.bb,this);this.k=j};l.Fa=function(a){this.O=a};
l.J=function(){this.g.update("_chartbeat4",["t="+this.xa,"E="+this.i.total(),"x="+Fa(this),"c="+Math.round((C()-this.B)/600)/100,"y="+M("Height"),"w="+pa()].join("&"),3600,g,g,1)};
l.A=function(a){this.va++;var b=this.a,c=Fa(this);this.w=Math.max(this.w,c);var d=Math.round((C()-this.B)/600)/100,e=0,f=0,m=0,p=this.i.n;R.Ha()?f=1:this.a.reading&&+this.a.reading||p>0||d<0.09?e=1:m=1;var i="",v="",t="",D="",E="",G=Ga(this);if(this.X){this.X=k;G?this.k=Ma(this):i="&r="+Y(this);var v="&i="+Ha(this),F=this.a.hudTrackable;F!==g&&(t="&L="+(F?"1":"0"));b.alias&&(E="&PA="+encodeURIComponent(b.alias))}G&&(i="&v=",this.k?(i+=encodeURIComponent(this.k.path),D="&K="+Na(this.k),this.k.S>1&&
(D+="&l1="+this.k.S)):i+=Y(this),this.da&&(i+="&vp=1"));var G=a?"&KK="+Na(a,h):"",F=this.V?"&b="+this.V:"",z=this.O?"&A="+this.O:"",a=b.mobileApp,c=(n.location.protocol||"http:")+"//"+b.pingServer+"/ping?h="+encodeURIComponent(b.domain)+"&p="+encodeURIComponent(b.path)+"&u="+this.q+"&d="+encodeURIComponent(this.t)+"&g="+b.uid+K(b,0,"sections")+K(b,1,"authors")+K(b,3,"sponsorName")+K(b,4,"type")+(!b.noCookies&&this.g.isSupported()?"&n="+this.Za:"&nc=1")+(this.la?"&f="+this.la:"")+"&c="+d+"&x="+c+"&m="+
this.w+"&y="+M("Height")+"&o="+M("Width")+"&w="+pa()+"&j="+Math.round((this.o+2)*15E3/1E3)+"&R="+e+"&W="+f+"&I="+m+"&E="+this.i.total()+"&e="+p+i+D+G+E+F+z+ia("_c","utm_campaign",b.campaignTag)+ia("_m","utm_medium",b.mediumTag)+"&t="+this.xa+"&V=49"+Ia(this)+v+t+"&tz="+(new Date).getTimezoneOffset(),d=this.g,e=d.$;d.$=k;X(this,c+(e?"&l=1":"")+la(b)+"&sn="+this.va+(a?"&C=1":"")+"&_")};
l.Ua=function(a){var b=this.a;if(a.origin==="http://"+(b.playerdomain||this.t)){var c=a.data;A(c)&&c.indexOf("cbqpush::")===0?(a=c.split("::"),a.length==3&&(a=a.slice(1),a[0].indexOf("_")===0&&this.wa(a))):c=="cbdata?"&&(b="domain="+encodeURIComponent(b.domain)+"&uid="+encodeURIComponent(b.uid)+"&path="+encodeURIComponent(b.path)+"&title="+Ha(this)+"&referrer="+Y(this)+"&internal="+(Ga(this)?"1":"0")+"&subdomain="+encodeURIComponent(this.t)+"&utoken="+this.q,a.source.postMessage(b,"*"))}};
l.wa=function(a){this.a[a[0]]=a[1];this.o=0};function Oa(a){a=a.replace(/-{2,}/g,"-");a=H(a);a.pathname=U(a.pathname);return a}l.ab=function(a){Pa(this,a,"c")};l.bb=function(a){Pa(this,a,"r")};
function Pa(a,b,c){if(a.Y&&C()-a.B>=a.H)a.terminate();else{var d=b.href||"",d=Oa(d);if(!(d.hostname!==n.location.hostname||d.protocol.indexOf("http")!==0)){var d=I(d),e=qa(b,function(a){return a.id}),f=La(b,e);e&&(f&&(f="/"+f),f="*[@id='"+e.id+"']"+f);e=q(f);b=Ja(b);c={left:b.x,top:b.y,path:a.a.path,href:d,ga:e,fa:f,Z:c,S:0};a.A(c);a.g.update("_chartbeat5",Qa(c),60,k,g,5,function(a){a=a.split(",");return a[2]+","+a[3]})}}}
function Na(a,b){var c=[a.left,a.top,a.ga,encodeURIComponent(a.fa),a.Z];b&&c.push(encodeURIComponent(a.href));return c.join("::")}function Qa(a){var b=encodeURIComponent(a.fa),b=b.replace(/-/g,"%2D");b.length>512&&(b="");return[a.left,a.top,encodeURIComponent(a.path),encodeURIComponent(a.href),a.ga,b,a.Z].join(",")}
function Ma(a){var b=a.g.b("_chartbeat5");if(!b)return j;var c=b.split("::"),b=c.length,d,e;if(b===1)d=c[0].split(","),e=0;else{var f,m=Oa(n.location.href),p=I(m);r(c,function(a,b){var c=a.split(","),m=fa(p,decodeURIComponent(c[3]));if(m===0)return d=c,e=b,k;if(f===g||m<f)f=m,d=c,e=b})}c.splice(e,1);a.g.create("_chartbeat5",c.join("::"),60);(a=d[5])?(a=a.replace(/%2D/g,"-"),a=decodeURIComponent(a)):a="";return{left:d[0],top:d[1],path:decodeURIComponent(d[2]),ga:d[4]||"",fa:a,Z:d.length>6?d[6]:"c",
S:b}}l.terminate=function(){P(this.Ia);P(this.Ja);Z.aa.terminate.call(this)};if(!n.pSUPERFLY){var Ra=new Z;n.pSUPERFLY=Ra;Z.prototype.virtualPage=Z.prototype.Ba;Z.prototype.activity=Z.prototype.Fa;var $=n.pSUPERFLY_pub;$&&$.virtualPage&&(Z.prototype.virtualPage=function(){var a=arguments.length?Array.prototype.slice.call(arguments,0):[];$.virtualPage();Z.prototype.Ba.apply(Ra,a);$.e();W($)});$&&$.addEngagedAdFilter&&(Z.prototype.addEngagedAdFilter=s($.addEngagedAdFilter,$));$&&$.refreshAd&&(Z.prototype.refreshAd=s($.refreshAd,$));W(Ra);var Sa=L.f(h);if(Sa){x(n,"message",na);
var Ta;if(Ta=Sa.getItem("_cb_ip")){var Ua=n.location;Ta=!(!/^([^.]+[.])?chartbeat\.com$/.test(Ua.hostname)?0:/^\/publishing\/(overlay|hud|mab)\//.test(Ua.pathname))}Ta&&ma()}};function Va(){da(n._cb_shared)||(n._cb_shared={});return n._cb_shared};function Wa(){var a=n.location.href,a=a.replace(/-{2,}/g,"-"),a=H(a);a.pathname=U(a.pathname);return a}function Xa(a){var b=S.b("_chartbeat6");if(!b)return j;var b=b.split("::"),c,d;if(b.length===1)c=b[0].split(","),d=0;else{var e,f=Wa(),m=I(f);r(b,function(a,b){var f=a.split(","),t=fa(m,decodeURIComponent(f[0]));if(t===0)return c=f,d=b,k;if(e===g||t<e)e=t,c=f,d=b})}b.splice(d,1);a="_chartbeat6="+b.join("::")+Ya(a);document.cookie=a;return{pb:c[0],Oa:c[1],mb:c[2],origin:c[3]}}
function Ya(a){var b="",c;if(!(a&&a.constructor===Object))return b;a.qa&&(c=new Date,c.setTime(c.getTime()+a.qa),b+="; expires="+c.toGMTString());a.domain&&(b+="; domain="+a.domain);a.path&&(b+="; path="+a.path);return b}function Za(a,b){if(a===b)return h;for(var c=b.split("."),d=a.split(".");c.length;){if(d.length===0)return k;if(c.pop()!==d.pop())return k}return h};function $a(){this.jb="_t_";o.call(this)}aa($a);l=$a.prototype;
l.e=function(){$a.aa.e.call(this);ka(this.a);var a=n.location;J(this.a,"mabServer","mabping.chartbeat.net");J(this.a,"title",document.title);J(this.a,"domain",a.hostname);J(this.a,"path",wa(!!this.a.useCanonical));this.t=w(a.hostname);this.a.domain=w(this.a.domain);var b=this.a,a=b.rootDomain,b=b.domain,c=n.location.hostname;this.gb=a?a:Za(c,b)?b:c.replace(/^www\./,"");a=(this.g.b("_chartbeat2",h)||"").split(".");a.length>4&&(a=[]);b=C();c=Ka(b,a);a[0]||(a[0]=this.a.utoken||q(Da(this),3),a[1]=b);
a[2]=b;a[3]=c;this.q=a[0];this.W=a.join(".");this.g.create("_chartbeat2",this.W,94608E3,h);this.a.utoken=this.q;this.Aa=this.ia=this.ja="";this.D=this.R=k;a=Xa({domain:"."+this.gb,qa:6E4,path:"/"});if(a!==j)this.ja=a.origin,this.ia=a.Oa,this.Aa=a.mb,this.R=h;this.H=6E4;this.ra=0;a=s(this.Va,this);for(b=Va().m||[];b.length;)a(b.shift());a={push:a};Va().m=a};
l.A=function(){var a=this.i.total(),b=ab(this),c,d,e;if(this.R)c=this.ja,d=this.ia,e=this.Aa,X(this,b+"&x="+d+"&v="+e+"&xo="+c+"&e="+a);!this.D&&da(this.za)&&bb(this,this.za);this.D=h};l.L=function(){var a=n._sf_startpt,b=n._sf_endpt;if(y(a))this.V=y(b)?b-a:C()-a;R.e();if(this.R)this.Q=n.setInterval(s(this.z,this),500);this.z()};l.z=function(){var a,b;this.D?(a=this.i.total(),b=this.ra*15,a-b>=15&&(this.A(),this.ra+=1),a>=45&&n.clearInterval(this.Q)):this.A()};
function ab(a){var b=a.a;return(n.location.protocol||"http:")+"//"+b.mabServer+"/ping/mab?h="+encodeURIComponent(b.domain)+"&p="+encodeURIComponent(b.path)+"&d="+encodeURIComponent(a.t)+"&u="+a.q+"&c="+Math.round((C()-a.B)/600)/100}l.J=function(){};l.kb=function(a){var b=a.d,a={status:a.s,data:b===j?j:{hb:b.s,Xa:b.l},code:a.c,message:a.m};this.D?bb(this,a):this.za=a};
function bb(a,b){var c=ab(a),d=b.status,e=b.data;if(d=="s"&&e!==j){if(!e.Xa){var d=e.hb,f;for(f in d)e=c+"&x="+f+"&v="+d[f]+"&e=-1",X(a,e)}}else d=="e"&&X(a,c+"&type=error&te="+b.code)}l.Va=function(a,b){for(var c=0,d=arguments.length;c<d;c++)a=arguments[c],a.shift()==="t"&&this.kb.apply(this,a)};if(!n.pSUPERFLY_mab)n.pSUPERFLY_mab={},W(new $a);})();
