<html>
<body>
<p> <h3>Simple Interest</h3> </p>
<div> 
<p> Principle : <input type="text" data-bind="value: principle"></input></p>
<p> Interest: <input type="text" data-bind="value:interest"></input></p>
<p> FromDate:<input type="date" data-bind="value:fromDate"></input></p>
<p> ToDate:<input type="date" data-bind="value:toDate"></input></p>
<!-- <p> <input type="button" value="Calculate" data-bind="click:calInterest"></p> -->
<p> SimpleInterest:<input type="text" data-bind="value:amount"></input></p>

</div>

<script type="text/javascript" src="../js/jquery.js" ></script>
<script type="text/javascript" src="../js/lodashmin.js" ></script>
<script type="text/javascript" src="../js/knockout-3.3.0.js"></script>
<script>
function InterestViewModel()
{
		var that = this;

		this.principle = ko.observable(1000);
		this.interest = ko.observable(8);
		this.fromDate = ko.observable('');
		this.toDate = ko.observable('');
		this.amount = ko.observable(0);

		// this.calInterest = function()
		// {
		// var d1 = new Date(this.fromDate());
		// var d2 = new Date(this.toDate());
		// var d3 = (d2 - d1) / (1000*60*60*24);
		// var d4 = d3 / 365;
		// var intr = (+this.principle() * +this.interest() * d4 ) / 100; 
		// this.amount(intr);
		// }
		this.amount = ko.computed(function()
		{
			var d1 = new Date(that.fromDate());
			var d2 = new Date(that.toDate());
			var d3 = (d2 - d1) / (1000*60*60*24);
			var d4 = d3 / 365;
			var intr = (+that.principle() * +that.interest() * d4 ) / 100; 
			return intr;
		});
		
}

    var intView = new InterestViewModel();
	ko.applyBindings(intView);

</script>

</body>
</html>